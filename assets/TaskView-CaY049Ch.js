import{k as h,c as a,o as n,a as t,F as v,b as g,t as u,g as _,u as x,r as b,l as $,h as D,m as p,p as w}from"./index-3O2NX-vD.js";const H={class:"col-md-8"},M={class:"row"},A={class:"card h-100"},k=["src"],q={class:"card-body"},B={class:"card-title"},C={class:"card-text"},N={class:"fw-bold text-primary"},G=["onClick"],S={__name:"ProductList",props:{products:{type:Array,required:!0}},emits:["add-cart"],setup(c,{emit:r}){const o=r;function d(i){o("add-cart",i),m(`商品${i.name} 已加入購物車`)}const m=h("showNotification");return(i,f)=>(n(),a("div",H,[f[0]||(f[0]=t("h2",{class:"mb-3"},"商品列表",-1)),t("div",M,[(n(!0),a(v,null,g(c.products,s=>(n(),a("div",{key:s.id,class:"col-md-4 mb-4"},[t("div",A,[t("img",{src:s.image,class:"card-img-top"},null,8,k),t("div",q,[t("h5",B,u(s.name),1),t("p",C,u(s.description),1),t("p",N,"$ "+u(s.price),1),t("button",{class:"btn btn-success w-100",onClick:e=>d(s)}," 加入購物車 ",8,G)])])]))),128))])]))}},V={class:"col-md-4"},j={key:0},P={class:"list-group mb-3"},W={class:"my-0"},Y={class:"text-muted"},F={class:"text-muted"},L=["onClick"],R={key:1,class:"text-end fw-bold"},T={__name:"Cart",props:{carts:{type:Array,required:!0},totalPrice:{type:Number,required:!0}},emits:["remove-cart"],setup(c,{emit:r}){const o=r;function d(i){o("remove-cart",i),m(`商品${i.name} 已移除`)}const m=h("showNotification");return(i,f)=>(n(),a("div",V,[f[0]||(f[0]=t("h2",{class:"mb-3"},"購物車",-1)),c.carts.length===0?(n(),a("div",j,"購物車是空的")):_("",!0),t("ul",P,[(n(!0),a(v,null,g(c.carts,s=>(n(),a("li",{key:s.id,class:"list-group-item d-flex justify-content-between align-items-center"},[t("div",null,[t("h6",W,u(s.name),1),t("small",Y,"數量："+u(s.quantity),1)]),t("div",null,[t("span",F,"$ "+u(s.quantity*s.price),1),t("button",{class:"btn btn-sm btn-outline-danger ms-2",onClick:e=>d(s)}," 移除 ",8,L)])]))),128))]),c.carts.length!==0?(n(),a("div",R,"總金額:"+u(c.totalPrice),1)):_("",!0)]))}},z={key:0,class:"position-fixed top-0 end-0 p-3",style:{"z-index":"1050"}},E={class:"toast show align-items-center text-white bg-success border-0"},I={class:"d-flex"},J={class:"toast-body"},K={__name:"Notification",setup(c){const r=h("notificationState");return(o,d)=>x(r).isShow?(n(),a("div",z,[t("div",E,[t("div",I,[t("div",J,u(x(r).message),1),d[0]||(d[0]=t("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto"},null,-1))])])])):_("",!0)}},O={id:"app",class:"container py-4"},Q={class:"row"},X={__name:"TaskView",setup(c){const r=b([{id:1,name:"耳罩式藍牙耳機",description:"舒適配戴，支援降噪技術",price:2490,image:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?q=80&w=2065&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:4,name:"耳罩式彩虹耳機",description:"舒適配戴，支援降噪技術",price:1380,image:"https://images.unsplash.com/photo-1524678606370-a47ad25cb82a?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:5,name:"時尚藍牙耳機",description:"舒適配戴，支援降噪技術",price:7990,image:"https://images.unsplash.com/photo-1628116709703-c1c9ad550d36?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:2,name:"機械式鍵盤",description:"紅軸機械鍵盤，打字手感極佳",price:1890,image:"https://images.unsplash.com/photo-1595044426077-d36d9236d54a?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:3,name:"無線滑鼠",description:"靜音按鍵設計，長效電池",price:890,image:"https://images.unsplash.com/photo-1527814050087-3793815479db?q=80&w=1928&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}]),o=b([]);function d(e){console.log("add",e);const l=o.value.find(y=>y.id===e.id);l?l.quantity++:o.value.push({...e,quantity:1})}function m(e){console.log("remove",e),o.value=o.value.filter(l=>l.id!==e.id)}const i=$({message:"",isShow:!1});function f(e){console.log("message",e),i.message=e,i.isShow=!0,setTimeout(()=>{i.isShow=!1},1500)}w("notificationState",i),w("showNotification",f);const s=D(()=>o.value.reduce((e,l)=>e+l.price*l.quantity,0));return(e,l)=>(n(),a("div",O,[t("div",Q,[p(S,{products:r.value,onAddCart:d},null,8,["products"]),p(T,{carts:o.value,onRemoveCart:m,totalPrice:s.value},null,8,["carts","totalPrice"])]),p(K)]))}};export{X as default};
